<div class="h-screen w-64 bg-gray-800 text-white fixed flex flex-col justify-between">
  <div class="p-4 flex-grow overflow-y-auto">
    <!-- Search and Add Friend Section -->
    <div class="mb-4">
      <div class="flex items-center space-x-2 mb-4">
        <input
          type="text"
          placeholder="Search for friends"
          class="flex-grow p-2 rounded-md border border-gray-600 bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-gray-500"
        />
        <button
          class="bg-gray-600 p-2 rounded-md hover:bg-gray-500 active:outline-none active:ring-2 focus:ring-gray-500 relative right-1"
        >
          <svg
            class="w-5 h-5 text-white"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 4a6 6 0 100 12 6 6 0 000-12zM21 21l-4.35-4.35"
            ></path>
          </svg>
        </button>
      </div>
      
      <div class="mb-4">
        <a
          routerLink="/add-friend"
          class="bg-gray-600 p-2 rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 w-full text-center cursor-pointer"
        >
          Add New Friend
        </a>
      </div>
    </div>
    
    <!-- Friends Section -->
    <button class="w-full text-left p-2 hover:bg-gray-700">Your Friends</button>
    <div class="border-t border-gray-600 mt-4"></div>

    <!-- Conditionally show friends list or no friends message -->
    <div class="mt-4">
      <ng-container *ngIf="friends.length; else noFriends">
        <div
          *ngFor="let friend of friends"
          (click)="selectFriend(friend.id)"
          [class.selected]="selectedFriendId === friend.id"
          class="flex items-center space-x-4 p-2 hover:bg-gray-700 rounded-md cursor-pointer"
        >
          <img
            src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"
            [alt]="friend.friendUser?.firstname || 'Friend Image'"
            class="w-10 h-10 rounded-full shadow-md"
          />
          <p class="text-md">{{ friend.friendUser?.email}}</p>
        </div>
      </ng-container>

      <ng-template #noFriends>
        <p class="text-gray-400 text-center mt-4">You have no friends yet. Add some friends to see them here.</p>
      </ng-template>
    </div>
  </div>
  
  <!-- Footer Section -->
  <div class="p-4 flex items-center space-x-4 border-t border-gray-600">
    <img src="TalkLogo.png" alt="Profile" class="w-12 h-12 rounded-full shadow-md cursor-pointer">
    <div>
      <p class="text-lg font-semibold cursor-pointer">{{this.userDetails.username}}</p>
      <p class="text-sm text-gray-400 cursor-pointer">View Profile</p>
    </div>
  </div>
</div>
